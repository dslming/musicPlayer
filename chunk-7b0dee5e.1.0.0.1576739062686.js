(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b0dee5e"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},5319:function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),o=n("7b0b"),a=n("50c4"),s=n("a691"),c=n("1d80"),u=n("8aa5"),l=n("14c3"),h=Math.max,d=Math.min,f=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n){return[function(n,r){var i=c(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,o){var c=n(t,e,this,o);if(c.done)return c.value;var f=i(e),g=String(this),v="function"===typeof o;v||(o=String(o));var p=f.global;if(p){var w=f.unicode;f.lastIndex=0}var y=[];while(1){var x=l(f,g);if(null===x)break;if(y.push(x),!p)break;var b=String(x[0]);""===b&&(f.lastIndex=u(g,a(f.lastIndex),w))}for(var S="",L=0,k=0;k<y.length;k++){x=y[k];for(var P=String(x[0]),C=h(d(s(x.index),g.length),0),E=[],A=1;A<x.length;A++)E.push(m(x[A]));var M=x.groups;if(v){var T=[P].concat(E,C,g);void 0!==M&&T.push(M);var F=String(o.apply(void 0,T))}else F=r(P,g,C,E,M,o);C>=L&&(S+=g.slice(L,C)+F,L=C+P.length)}return S+g.slice(L)}];function r(e,n,r,i,a,s){var c=r+e.length,u=i.length,l=v;return void 0!==a&&(a=o(a),l=g),t.call(s,l,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return t;if(l>u){var h=f(l/10);return 0===h?t:h<=u?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):t}s=i[l-1]}return void 0===s?"":s}))}}))},7389:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"way"},[n("div",{attrs:{id:"canvasFather"}}),n("div",{staticClass:"name"},[e._v(" 疯狂街道 ")])])}],o=n("d4ec"),a=n("bee2"),s=n("11c0"),c=(n("b0c0"),n("d3b7"),n("841c"),"\n  #define PI 3.14159265358979\n  uniform vec2 uDistortionX;\n  uniform vec2 uDistortionY;\n\n  float nsin(float val){\n    return sin(val) * 0.5+0.5;\n  }\n\n  vec3 getDistortion(float progress){\n    progress = clamp(progress, 0.,1.);\n    float xAmp = uDistortionX.r;\n    float xFreq = uDistortionX.g;\n    float yAmp = uDistortionY.r;\n    float yFreq = uDistortionY.g;\n    return vec3(\n      xAmp * nsin(progress* PI * xFreq   - PI / 2. ) ,\n      yAmp * nsin(progress * PI *yFreq - PI / 2.  ) ,\n      0.\n    );\n  }\n"),u=(n("5319"),"\n\n        uv.y = mod(uv.y + uTime * 0.1,1.);\n        float brokenLineWidth = 1. / uLanes * uBrokenLinesWidthPercentage;\n        // How much % of the lane's space is empty\n        float laneEmptySpace = 1. - uBrokenLinesLengthPercentage;\n\n        // Horizontal * vertical offset\n        float brokenLines = step(1.-brokenLineWidth * uLanes,fract(uv.x * uLanes)) * step(laneEmptySpace, fract(uv.y * 100.)) ;\n        // Remove right-hand lines on the right-most lane\n        brokenLines *= step(uv.x * uLanes,uLanes-1.);\n        color = mix(color, uBrokenLinesColor, brokenLines);\n\n\n        float shoulderLinesWidth = 1. / uLanes * uShoulderLinesWidthPercentage;\n        float shoulderLines = step(1.-shoulderLinesWidth, uv.x) + step(uv.x, shoulderLinesWidth);\n        color = mix(color, uBrokenLinesColor, shoulderLines);\n\n        vec2 noiseFreq = vec2(4., 7000.);\n        float roadNoise = random( floor(uv * noiseFreq)/noiseFreq ) * 0.02 - 0.01;\n        color += roadNoise;\n"),l=(n("99af"),window.THREE),h="\n    #define USE_FOG;\n    varying vec2 vUv;\n    uniform vec3 uColor;\n    uniform float uTime;\n    #include <roadMarkings_vars>\n    ".concat(l.ShaderChunk["fog_pars_fragment"],"\n    void main() {\n        vec2 uv = vUv;\n        vec3 color = vec3(uColor);\n\n        #include <roadMarkings_fragment>\n\n        gl_FragColor = vec4(color,1.);\n        ").concat(l.ShaderChunk["fog_fragment"],"\n    }\n"),d="\n    uniform float uLanes;\n    uniform vec3 uBrokenLinesColor;\n    uniform vec3 uShoulderLinesColor;\n    uniform float uShoulderLinesWidthPercentage;\n    uniform float uBrokenLinesWidthPercentage;\n    uniform float uBrokenLinesLengthPercentage;\n    highp float random(vec2 co)\n    {\n        highp float a = 12.9898;\n        highp float b = 78.233;\n        highp float c = 43758.5453;\n        highp float dt= dot(co.xy ,vec2(a,b));\n        highp float sn= mod(dt,3.14);\n        return fract(sin(sn) * c);\n    }\n",f=window.THREE,g="\n#define USE_FOG;\nuniform float uTime;\n".concat(f.ShaderChunk["fog_pars_vertex"],"\n\nuniform float uTravelLength;\n\nvarying vec2 vUv;\n  #include <getDistortion_vertex>\nvoid main() {\n  vec3 transformed = position.xyz;\n\n    vec3 distortion  = getDistortion((transformed.y + uTravelLength / 2.) / uTravelLength);\n    transformed.x += distortion.x;\n    transformed.z += distortion.y;\n  transformed.y += -1.*distortion.z;\n\n  vec4 mvPosition = modelViewMatrix * vec4(transformed,1.);\n  gl_Position = projectionMatrix * mvPosition;\n  vUv = uv;\n\n  ").concat(f.ShaderChunk["fog_vertex"],"\n}"),v=window.THREE,m=h.replace("#include <roadMarkings_fragment>","").replace("#include <roadMarkings_vars>",""),p=h.replace("#include <roadMarkings_fragment>",u).replace("#include <roadMarkings_vars>",d),w=function(){function e(t,n){Object(o["a"])(this,e),this.webgl=t,this.options=n,this.uTime=new v.Uniform(0)}return Object(a["a"])(e,[{key:"createIsland",value:function(){this.options}},{key:"createPlane",value:function(e,t,n){var r=this.options,i=100,o=new v.PlaneBufferGeometry(n?r.roadWidth:r.islandWidth,r.length,20,i),a={uTravelLength:new v.Uniform(r.length),uColor:new v.Uniform(new v.Color(n?r.colors.roadColor:r.colors.islandColor)),uTime:this.uTime};n&&(a=Object.assign(a,{uLanes:new v.Uniform(r.lanesPerRoad),uBrokenLinesColor:new v.Uniform(new v.Color(r.colors.brokenLines)),uShoulderLinesColor:new v.Uniform(new v.Color(r.colors.shoulderLines)),uShoulderLinesWidthPercentage:new v.Uniform(r.shoulderLinesWidthPercentage),uBrokenLinesLengthPercentage:new v.Uniform(r.brokenLinesLengthPercentage),uBrokenLinesWidthPercentage:new v.Uniform(r.brokenLinesWidthPercentage)}));var s=new v.ShaderMaterial({fragmentShader:n?p:m,vertexShader:g,side:v.DoubleSide,uniforms:Object.assign(a,this.webgl.fogUniforms,r.distortion.uniforms)});s.onBeforeCompile=function(e){e.vertexShader=e.vertexShader.replace("#include <getDistortion_vertex>",r.distortion.getDistortion)};var c=new v.Mesh(o,s);return c.rotation.x=-Math.PI/2,c.position.z=-r.length/2,c.position.x+=(this.options.islandWidth/2+r.roadWidth/2)*e,this.webgl.scene.add(c),c.name="road",c}},{key:"init",value:function(){this.leftRoadWay=this.createPlane(-1,this.options.roadWidth,!0),this.rightRoadWay=this.createPlane(1,this.options.roadWidth,!0),this.island=this.createPlane(0,this.options.islandWidth,!1)}},{key:"update",value:function(e){this.uTime.value=e}}]),e}(),y=(n("d81d"),n("ace4"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a9"),n("72f7"),function(e){return Array.isArray(e)?Math.random()*(e[1]-e[0])+e[0]:Math.random()*e}),x=function(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e};var b,S=window.THREE,L="\n  #define USE_FOG;\n  ".concat(S.ShaderChunk["fog_pars_fragment"],"\n  varying vec3 vColor;\n  varying vec2 vUv;\n  uniform vec2 uFade;\n  void main() {\n  vec3 color = vec3(vColor);\n  float fadeStart = 0.4;\n  float maxFade = 0.;\n  float alpha = 1.;\n\n  alpha = smoothstep(uFade.x, uFade.y, vUv.x);\n  gl_FragColor = vec4(color,alpha);\n  if (gl_FragColor.a < 0.0001) discard;\n  ").concat(S.ShaderChunk["fog_fragment"],"\n  }\n"),k=window.THREE,P="\n  #define USE_FOG;\n  ".concat(k.ShaderChunk["fog_pars_vertex"],"\n  attribute vec3 aOffset;\n  attribute vec3 aMetrics;\n  attribute vec3 aColor;\n\n\n\n  uniform float uTravelLength;\n  uniform float uTime;\n  uniform float uSpeed;\n\n  varying vec2 vUv;\n  varying vec3 vColor;\n  #include <getDistortion_vertex>\n\n  void main() {\n    vec3 transformed = position.xyz;\n    float radius = aMetrics.r;\n    float myLength = aMetrics.g;\n    float speed = aMetrics.b;\n\n    transformed.xy *= radius ;\n    transformed.z *= myLength;\n\n    // Add my length to make sure it loops after the lights hits the end\n    transformed.z += myLength-mod( uTime *speed + aOffset.z, uTravelLength);\n    transformed.xy += aOffset.xy;\n\n\n    float progress = abs(transformed.z / uTravelLength);\n    transformed.xyz += getDistortion(progress);\n\n    vec4 mvPosition = modelViewMatrix * vec4(transformed,1.);\n    gl_Position = projectionMatrix * mvPosition;\n    vUv = uv;\n    vColor = aColor;\n    ").concat(k.ShaderChunk["fog_vertex"],"\n  }"),C=window.THREE,E=function(){function e(t,n,r,i,a){Object(o["a"])(this,e),this.webgl=t,this.options=n,this.colors=r,this.speed=i,this.fade=a}return Object(a["a"])(e,[{key:"init",value:function(){var e=this.options,t=new C.LineCurve3(new C.Vector3(0,0,0),new C.Vector3(0,0,-1)),n=new C.TubeBufferGeometry(t,40,1,8,!1),r=(new C.InstancedBufferGeometry).copy(n);r.maxInstancedCount=2*e.lightPairsPerRoadWay;var i=e.roadWidth/e.lanesPerRoad,o=[],a=[],s=[],c=this.colors;c=Array.isArray(c)?c.map((function(e){return new C.Color(e)})):new C.Color(c);for(var u=0;u<e.lightPairsPerRoadWay;u++){var l=y(e.carLightsRadius),h=y(e.carLightsLength),d=y(this.speed),f=u%3,g=f*i-e.roadWidth/2+i/2,v=y(e.carWidthPercentage)*i,m=y(e.carShiftX)*i;g+=m;var p=y(e.carFloorSeparation)+1.3*l,w=-y(e.length);o.push(g-v/2),o.push(p),o.push(w),o.push(g+v/2),o.push(p),o.push(w),a.push(l),a.push(h),a.push(d),a.push(l),a.push(h),a.push(d);var b=x(c);s.push(b.r),s.push(b.g),s.push(b.b),s.push(b.r),s.push(b.g),s.push(b.b)}r.addAttribute("aOffset",new C.InstancedBufferAttribute(new Float32Array(o),3,!1)),r.addAttribute("aMetrics",new C.InstancedBufferAttribute(new Float32Array(a),3,!1)),r.addAttribute("aColor",new C.InstancedBufferAttribute(new Float32Array(s),3,!1));var S=new C.ShaderMaterial({fragmentShader:L,vertexShader:P,transparent:!0,uniforms:Object.assign({uTime:new C.Uniform(0),uTravelLength:new C.Uniform(e.length),uFade:new C.Uniform(this.fade)},this.webgl.fogUniforms,e.distortion.uniforms)});S.onBeforeCompile=function(t){t.vertexShader=t.vertexShader.replace("#include <getDistortion_vertex>",e.distortion.getDistortion),console.log(t.vertex)};var k=new C.Mesh(r,S);k.frustumCulled=!1,k.name="carLights",this.webgl.scene.add(k),this.mesh=k}},{key:"update",value:function(e){this.mesh.material.uniforms.uTime.value=e}}]),e}(),A=window.THREE,M="\n#define USE_FOG;\n".concat(A.ShaderChunk["fog_pars_vertex"],"\nattribute float aOffset;\nattribute vec3 aColor;\n\nattribute vec2 aMetrics;\n\nuniform float uTravelLength;\nuniform float uTime;\n\nvarying vec3 vColor;\nmat4 rotationY( in float angle ) {\n\treturn mat4(\tcos(angle),\t\t0,\t\tsin(angle),\t0,\n\t\t\t \t\t\t\t0,\t\t1.0,\t\t\t 0,\t0,\n\t\t\t\t\t-sin(angle),\t0,\t\tcos(angle),\t0,\n\t\t\t\t\t\t\t0, \t\t0,\t\t\t\t0,\t1);\n}\n\n\n\n  #include <getDistortion_vertex>\n  void main(){\n    vec3 transformed = position.xyz;\n    float width = aMetrics.x;\n    float height = aMetrics.y;\n\n    transformed.xy *= vec2(width,height);\n    float time = mod(uTime  * 60. *2. + aOffset , uTravelLength);\n\n    transformed = (rotationY(3.14/2.) * vec4(transformed,1.)).xyz;\n\n    transformed.z +=  - uTravelLength + time;\n\n\n    float progress = abs(transformed.z / uTravelLength);\n    transformed.xyz += getDistortion(progress);\n\n    transformed.y += height /2.;\n    transformed.x += -width/2.;\n    vec4 mvPosition = modelViewMatrix * vec4(transformed,1.);\n    gl_Position = projectionMatrix * mvPosition;\n    vColor = aColor;\n    ").concat(A.ShaderChunk["fog_vertex"],"\n  }\n"),T=window.THREE,F="\n#define USE_FOG;\n".concat(T.ShaderChunk["fog_pars_fragment"],"\nvarying vec3 vColor;\n  void main(){\n    vec3 color = vec3(vColor);\n    gl_FragColor = vec4(color,1.);\n    ").concat(T.ShaderChunk["fog_fragment"],"\n  }\n"),U=window.THREE,_=function(){function e(t,n){Object(o["a"])(this,e),this.webgl=t,this.options=n}return Object(a["a"])(e,[{key:"init",value:function(){var e=this.options,t=new U.PlaneBufferGeometry(1,1),n=(new U.InstancedBufferGeometry).copy(t),r=e.totalSideLightSticks;n.maxInstancedCount=r;var i=e.length/(r-1),o=[],a=[],s=[],c=e.colors.sticks;c=Array.isArray(c)?c.map((function(e){return new U.Color(e)})):new U.Color(c);for(var u=0;u<r;u++){var l=y(e.lightStickWidth),h=y(e.lightStickHeight);o.push((u-1)*i*2+i*Math.random());var d=x(c);a.push(d.r),a.push(d.g),a.push(d.b),s.push(l),s.push(h)}n.addAttribute("aOffset",new U.InstancedBufferAttribute(new Float32Array(o),1,!1)),n.addAttribute("aColor",new U.InstancedBufferAttribute(new Float32Array(a),3,!1)),n.addAttribute("aMetrics",new U.InstancedBufferAttribute(new Float32Array(s),2,!1));var f=new U.ShaderMaterial({fragmentShader:F,vertexShader:M,side:U.DoubleSide,uniforms:Object.assign({uTravelLength:new U.Uniform(e.length),uTime:new U.Uniform(0)},this.webgl.fogUniforms,e.distortion.uniforms)});f.onBeforeCompile=function(t){t.vertexShader=t.vertexShader.replace("#include <getDistortion_vertex>",e.distortion.getDistortion)};var g=new U.Mesh(n,f);g.frustumCulled=!1,g.name="lightSticks",this.webgl.scene.add(g),this.mesh=g}},{key:"update",value:function(e){this.mesh.material.uniforms.uTime.value=e}}]),e}(),I=window.POSTPROCESSING,W=window.THREE,R={uDistortionX:new W.Uniform(new W.Vector2(80,3)),uDistortionY:new W.Uniform(new W.Vector2(-40,2.5))},z=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o["a"])(this,e),this.options={},this.assets={},this.disposed=!1,this.delta=0,b=this,this.options=n,this.container=t,null==this.options.distortion&&(this.options.distortion={uniforms:R,getDistortion:c}),this.initStage(n),this.initStats(),this.tick=this.tick.bind(this),this.init=this.init.bind(this)}return Object(a["a"])(e,[{key:"initStats",value:function(){var e=window.Stats;this.stats=new e,this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="0px",this.stats.domElement.style.top="0px",this.container.appendChild(this.stats.domElement)}},{key:"initStage",value:function(e){var t=this.container;this.renderer=new W.WebGLRenderer({antialias:!1}),this.renderer.setSize(t.offsetWidth,t.offsetHeight,!1),this.renderer.setPixelRatio(window.devicePixelRatio),this.composer=new I.EffectComposer(this.renderer),t.append(this.renderer.domElement),this.camera=new W.PerspectiveCamera(e.fov,t.offsetWidth/t.offsetHeight,.1,1e4),this.camera.position.z=-5,this.camera.position.y=8,this.camera.position.x=0,this.camera.name="camera",this.scene=new W.Scene,window.scene=this.scene;var n=new W.Fog(e.colors.background,.2*e.length,500*e.length);this.scene.fog=n,this.fogUniforms={fogColor:{type:"c",value:n.color},fogNear:{type:"f",value:n.near},fogFar:{type:"f",value:n.far}},this.assets={},this.scene.add(this.camera),this.road=new w(this,e),this.leftCarLights=new E(this,e,e.colors.leftCars,e.movingAwaySpeed,new W.Vector2(0,1-e.carLightsFade)),this.rightCarLights=new E(this,e,e.colors.rightCars,e.movingCloserSpeed,new W.Vector2(1,0+e.carLightsFade)),this.leftSticks=new _(this,e)}},{key:"initPasses",value:function(){this.renderPass=new I.RenderPass(this.scene,this.camera),this.bloomPass=new I.EffectPass(this.camera,new I.BloomEffect({luminanceThreshold:.2,luminanceSmoothing:0,resolutionScale:1})),console.log(this.assets.smaa,this.camera);var e=new I.EffectPass(this.camera,new I.SMAAEffect(this.assets.smaa.search,this.assets.smaa.area,I.SMAAPreset.MEDIUM));this.renderPass.renderToScreen=!1,this.bloomPass.renderToScreen=!1,e.renderToScreen=!0,this.composer.addPass(this.renderPass),this.composer.addPass(this.bloomPass),this.composer.addPass(e)}},{key:"update",value:function(e){var t=e;this.rightCarLights.update(t),this.leftCarLights.update(t),this.leftSticks.update(t),this.road.update(t);var n=!1;if(this.options.distortion.getJS){var r=this.options.distortion.getJS(.025,t);this.camera.lookAt(new W.Vector3(this.camera.position.x+r.x,this.camera.position.y+r.y,this.camera.position.z+r.z)),n=!0}n&&this.camera.updateProjectionMatrix(),this.stats.update()}},{key:"tick",value:function(){this.disposed&&(this.composer.render(),this.update(this.delta),this.loopCB&&this.loopCB()),requestAnimationFrame(this.tick)}},{key:"loadAssets",value:function(){var e=this.assets;return new Promise((function(t,n){e.smaa={};var r=new W.LoadingManager(t),i=new Image,o=new Image;i.addEventListener("load",(function(){e.smaa.search=this,r.itemEnd("smaa-search")})),o.addEventListener("load",(function(){e.smaa.area=this,r.itemEnd("smaa-area")})),r.itemStart("smaa-search"),r.itemStart("smaa-area"),i.src=I.SMAAEffect.searchImageDataURL,o.src=I.SMAAEffect.areaImageDataURL}))}},{key:"init",value:function(){this.initPasses();var e=this.options;this.road.init(),this.leftCarLights.init(),this.leftCarLights.mesh.position.setX(-e.roadWidth/2-e.islandWidth/2),this.rightCarLights.init(),this.rightCarLights.mesh.position.setX(e.roadWidth/2+e.islandWidth/2),this.leftSticks.init(),this.leftSticks.mesh.position.setX(-(e.roadWidth+e.islandWidth/2)),this.tick()}},{key:"resize",value:function(){var e=b.container.clientWidth,t=b.container.clientHeight;b.renderer.domElement.width=e,b.renderer.domElement.height=t,b.renderer.setSize(e,t),this.composer.setSize(e,t,!1),b.camera.aspect=e/t,b.camera.updateProjectionMatrix()}},{key:"rigister",value:function(e){this.loopCB=e}},{key:"run",value:function(){this.disposed=!0}},{key:"stop",value:function(){this.disposed=!1}},{key:"updataDelta",value:function(e){this.delta=e}}]),e}(),D=window.THREE,O={uFreq:new D.Uniform(new D.Vector3(3,6,10)),uAmp:new D.Uniform(new D.Vector3(30,30,20))},B=(new D.Uniform(new D.Vector2(5,2)),new D.Uniform(new D.Vector2(25,15)),new D.Uniform(new D.Vector2(2,3)),new D.Uniform(new D.Vector2(35,10)),new D.Uniform(new D.Vector4(4,8,8,1)),new D.Uniform(new D.Vector4(25,5,10,10)),new D.Uniform(new D.Vector2(4,8)),new D.Uniform(new D.Vector2(10,20)),new D.Uniform(new D.Vector2(20,2)),function(e){return.5*Math.sin(e)+.5}),j={uniforms:O,getDistortion:"\n\n    uniform vec3 uAmp;\n    uniform vec3 uFreq;\n\n    #define PI 3.14159265358979\n\n        float nsin(float val){\n        return sin(val) * 0.5+0.5;\n        }\n\n    vec3 getDistortion(float progress){\n\n            float movementProgressFix = 0.02;\n            return vec3(\n                cos(progress * PI * uFreq.x + uTime) * uAmp.x - cos(movementProgressFix * PI * uFreq.x + uTime) * uAmp.x,\n                nsin(progress * PI * uFreq.y + uTime) * uAmp.y - nsin(movementProgressFix * PI * uFreq.y + uTime) * uAmp.y,\n                nsin(progress * PI * uFreq.z + uTime) * uAmp.z - nsin(movementProgressFix * PI * uFreq.z + uTime) * uAmp.z\n            );\n        }\n",getJS:function(e,t){var n=.02,r=O.uFreq.value,i=O.uAmp.value,o=new D.Vector3(Math.cos(e*Math.PI*r.x+t)*i.x-Math.cos(n*Math.PI*r.x+t)*i.x,B(e*Math.PI*r.y+t)*i.y-B(n*Math.PI*r.y+t)*i.y,B(e*Math.PI*r.z+t)*i.z-B(n*Math.PI*r.z+t)*i.z),a=new D.Vector3(2,2,2),s=new D.Vector3(0,0,-5);return o.multiply(a).add(s)}},V=0,q=function(){function e(){Object(o["a"])(this,e),this.audio=s["a"]}return Object(a["a"])(e,[{key:"initStage",value:function(){var e=this;this.init(),this.stage.rigister((function(){V+=3e-4*s["a"].getAverageFrequency(),e.stage.updataDelta(V)}))}},{key:"init",value:function(){var e=document.querySelector("#canvasFather"),t={onSpeedUp:function(e){},onSlowDown:function(e){},distortion:j,length:400,roadWidth:10,islandWidth:5,lanesPerRoad:2,fov:90,fovSpeedUp:150,speedUp:2,carLightsFade:.4,totalSideLightSticks:50,lightPairsPerRoadWay:70,shoulderLinesWidthPercentage:.05,brokenLinesWidthPercentage:.1,brokenLinesLengthPercentage:.5,lightStickWidth:[.12,.5],lightStickHeight:[1.3,1.7],movingAwaySpeed:[60,80],movingCloserSpeed:[-120,-160],carLightsLength:[20,60],carLightsRadius:[.05,.14],carWidthPercentage:[.3,.5],carShiftX:[-.2,.2],carFloorSeparation:[.05,1],colors:{roadColor:526344,islandColor:657930,background:0,shoulderLines:1250072,brokenLines:1250072,leftCars:[16736115,15158624,16715818],rightCars:[10806246,8442324,5489350],sticks:10806246}};this.stage=new z(e,t),this.stage.loadAssets().then(this.stage.init)}}]),e}(),H=new q,G={props:["type"],computed:{playing:function(){return H.audio.subject.playing}},mounted:function(){H.initStage()},watch:{type:{handler:function(e){"min"==e&&H.stage?(H.stage.resize(),H.audio.subject.playing?H.stage.run():H.stage.stop()):H.stage&&H.stage.stop()}},playing:{handler:function(e){e&&H.stage?(H.stage.resize(),H.stage.run()):H.stage&&H.stage.stop()},deep:!0}}},$=G,X=(n("b141"),n("2877")),Y=Object(X["a"])($,r,i,!1,null,null,null);t["default"]=Y.exports},"841c":function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),o=n("1d80"),a=n("129f"),s=n("14c3");r("search",1,(function(e,t,n){return[function(t){var n=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),c=String(this),u=o.lastIndex;a(u,0)||(o.lastIndex=0);var l=s(o,c);return a(o.lastIndex,u)||(o.lastIndex=u),null===l?-1:l.index}]}))},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=void 0!==/()??/.exec("")[1],u=s||c;u&&(a=function(e){var t,n,a,u,l=this;return c&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),s&&(t=l.lastIndex),a=i.call(l,e),s&&a&&(l.lastIndex=l.global?a.index+a[0].length:t),c&&a&&a.length>1&&o.call(a[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a}),e.exports=a},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),a=n("861d"),s=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),h=n("1dde"),d=n("b622"),f=n("60ae"),g=d("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",p=f>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),w=h("concat"),y=function(e){if(!a(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)},x=!p||!w;r({target:"Array",proto:!0,forced:x},{concat:function(e){var t,n,r,i,o,a=s(this),h=l(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],y(o)){if(i=c(o.length),d+i>v)throw TypeError(m);for(n=0;n<i;n++,d++)n in o&&u(h,d,o[n])}else{if(d>=v)throw TypeError(m);u(h,d++,o)}return h.length=d,h}})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},aff4:function(e,t,n){},b141:function(e,t,n){"use strict";var r=n("aff4"),i=n.n(r);i.a},cfc3:function(e,t,n){var r=n("74e8");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},d784:function(e,t,n){"use strict";var r=n("9112"),i=n("6eeb"),o=n("d039"),a=n("b622"),s=n("9263"),c=a("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=f&&!o((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!g||"replace"===e&&!u||"split"===e&&!l){var v=/./[d],m=n(d,""[e],(function(e,t,n,r,i){return t.exec===s?f&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),p=m[0],w=m[1];i(String.prototype,e,p),i(RegExp.prototype,d,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)}),h&&r(RegExp.prototype[d],"sham",!0)}}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("d039"),a=n("1dde"),s=a("map"),c=s&&!o((function(){[].map.call({length:-1,0:1},(function(e){throw e}))}));r({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-7b0dee5e.1.0.0.1576739062686.js.map
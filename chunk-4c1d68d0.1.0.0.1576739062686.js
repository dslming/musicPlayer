(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c1d68d0"],{1591:function(e,t,n){"use strict";var i=n("41fb"),a=n.n(i);a.a},"41fb":function(e,t,n){},6516:function(e,t,n){"use strict";n.r(t);var i,a,s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"particles"},[n("div",{attrs:{id:"canvasFather"}}),n("div",{staticClass:"name"},[e._v(" 粒粒可见 ")])])}],o=(n("b0c0"),n("d4ec")),c=n("bee2"),h=(n("159b"),window.THREE),l=null,d=function(){function e(t){Object(o["a"])(this,e),this.container=t,this.runFlag=!1,this.initFlag=!1,this.meshObjects=[],l=this,this.scene=new h.Scene,window.scene=this.scene,this.scene.name="moumade",this.scene.fog=new h.Fog(0,1,3e5),this.containerEle=document.querySelector(t),this.renderer=new h.WebGLRenderer({antialias:!0,alpha:!0,precision:"highp"}),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.containerEle.clientWidth,this.containerEle.clientHeight),this.containerEle.appendChild(this.renderer.domElement),this.initCamera(),this.initLight(),window.addEventListener("resize",this.handleResize),this.handleResize(),this.initStats()}return Object(c["a"])(e,[{key:"handleResize",value:function(){var e=l.containerEle.clientWidth,t=l.containerEle.clientHeight;l.renderer.domElement.width=e,l.renderer.domElement.height=t,l.renderer.setSize(l.containerEle.clientWidth,l.containerEle.clientHeight),l.camera.aspect=e/t,l.camera.updateProjectionMatrix()}},{key:"initLight",value:function(){var e=new h.SpotLight(16777215);e.position.set(0,1e4,this.camera.position.z+4e3),e.name="spotLight",this.scene.add(e)}},{key:"initCamera",value:function(){this.camera=new h.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,4e5),this.camera.position.z=55e4,this.camera.position.y=1e4,this.camera.lookAt(new h.Vector3(0,6e3,0)),this.scene.add(this.camera),this.camera.name="camera"}},{key:"initControl",value:function(){this.control=new h.OrbitControls(this.camera,this.renderer.domElement),this.control.autoRotate=!1,this.control.enabled=!0}},{key:"findMesh",value:function(e){var t=this;e.children&&e.children.forEach((function(e){e instanceof h.Mesh&&(0!=t.meshObjects.length&&t.meshObjects[t.meshObjects.length-1].uuid==e.uuid||t.meshObjects.push(e)),t.findMesh(e)}))}},{key:"initStats",value:function(){var e=window.Stats;this.stats=new e,this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="0px",this.stats.domElement.style.top="0px",document.querySelector(this.container).appendChild(this.stats.domElement)}},{key:"run",value:function(){l.animateId=requestAnimationFrame(l.run),l.renderer.render(l.scene,l.camera),l.stats.update(),l.loopCB&&l.loopCB()}},{key:"stop",value:function(){cancelAnimationFrame(this.animateId)}},{key:"rigister",value:function(e){this.loopCB=e}},{key:"resize",value:function(){this.handleResize()}}]),e}(),u=n("11c0"),m=window.THREE,p=window.TweenMax,g=function(){function e(){Object(o["a"])(this,e),this.audio=u["a"]}return Object(c["a"])(e,[{key:"addStageObjects",value:function(){var e=100,t=1245e3,n=1e5;i=new m.Mesh(new m.PlaneGeometry(t,t,e,e),new m.MeshBasicMaterial({color:5592405,wireframe:!0})),i.name="plane",i.rotation.x=.5*-Math.PI;n=1e5;for(var s=new m.Geometry,r=0;r<n;r++){var o=new m.Vector3;o.x=Math.random()*t-.5*t,o.y=5e4*Math.random()-2500,o.z=Math.random()*t-.5*t,s.vertices.push(o)}var c=(new m.TextureLoader).load("static/textures/disc.png");a=new m.PointsMaterial({size:2e3,map:c,transparent:!0}),a.color.setHSL(1,.3,.7);var h=new m.Points(s,a);h.geometry.verticesNeedUpdate=!0,h.name="particles",this.stage.scene.add(h)}},{key:"initStage",value:function(){var e=this;this.stage=new d("#canvasFather"),this.stage.rigister((function(){var t=u["a"].getAverageFrequency();e.loop(2*t)})),this.addStageObjects()}},{key:"loop",value:function(e){for(var t=5e-5*Date.now(),n=2e4,s=0;s<i.geometry.vertices.length;s++)i.geometry.vertices[s].z+=Math.random()*n-n;this.stage.camera.position.z-=e,this.stage.camera.position.z<1e5&&p.to(this.stage.camera.position,0,{z:55e4});var r=360*(1+t)%360/360;a.color.setHSL(r,.5,.5),this.stage.camera.lookAt(this.stage.scene.position)}}]),e}(),w=new g,v={props:["type"],computed:{playing:function(){return w.audio.subject.playing}},mounted:function(){w.initStage()},watch:{type:{handler:function(e){"min"==e?(w.stage.resize(),w.audio.subject.playing?w.stage.run():w.stage.stop()):w.stage.stop()}},playing:{handler:function(e){e?w.stage.run():w.stage.stop()},deep:!0}}},f=v,y=(n("1591"),n("2877")),b=Object(y["a"])(f,s,r,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-4c1d68d0.1.0.0.1576739062686.js.map